<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    Welcome to {{ title }}!
  </h1>
  <button mat-fab (click)="launchWindow()" matTooltip="Agens Homepage" matTooltipPosition="below">
    <mat-icon>home</mat-icon></button>
  <button mat-fab color="primary" (click)="openDialogRegister()" matTooltip="Register server" matTooltipPosition="below">
    <mat-icon>add</mat-icon></button>
</div>
<div><hr /></div>
<div class="progress-wrapper" *ngIf="state == 'loading'">
  <round-progress [max]="timer_max" [current]="timer_curr" [radius]="100" [stroke]="25"></round-progress>
</div>
<ul *ngIf="state != 'loading'">
  <li *ngFor="let item of servers; let i = index">
    <mat-card class="example-card">
      <mat-card-header>
        <div mat-card-avatar [ngClass]="{ 'server-image-normal': item['normal'], 'server-image-error': !item['normal'] }"></div>
        <mat-card-title>{{ item.name }}</mat-card-title>
        <mat-card-subtitle>{{ item.url }}</mat-card-subtitle>
      </mat-card-header>
      <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
      <mat-card-content>
        <p>
          <span *ngIf="item['datasource']">{{ parseJdbcUrl(item['datasource']['jdbc_url']) }}/{{ item['datasource']['name'] }}</span><br>
          <span *ngIf="item['datasource']">{{ item['datasource']['desc'] }}</span><br>
          <span *ngIf="item['message']">{{ item['message'] }}</span><br>
        </p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="connectItem(item)">Connect</button>
        <button mat-button (click)="openDialogDelete(item)">Delete</button>
      </mat-card-actions>
    </mat-card>
  </li>
</ul>

